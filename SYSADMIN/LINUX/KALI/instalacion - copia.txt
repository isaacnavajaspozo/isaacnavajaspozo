# =========================================
## CONEXIONES WIFI

# verifica el Nombre de tu Red Wi-Fi y crea su Archivo de Configuración
sudo nano /etc/wpa_supplicant/wpa_supplicant.conf

# Este archivo contiene las redes Wi-Fi 
network={
    ssid="Nombre_de_la_Red"
    psk="Contraseña_de_la_Red"
}

# detén cualquier proceso de wpa_supplicant
sudo killall wpa_supplicant

# detén NetworkManager
sudo systemctl stop NetworkManager

# Inicia wpa_supplicant Manualmente
sudo wpa_supplicant -B -i wlan0 -c /etc/wpa_supplicant/wpa_supplicant.conf
sudo dhclient wlan0

# Obtén una Dirección IP
sudo dhclient wlan0

# Opcional: Reinicia NetworkManager
sudo systemctl start NetworkManager


# =========================================
## SERVIDOR SSH

# actualizo paquetes e instalo paquete de ssh server
sudo apt update
sudo apt install openssh-server -y

# configuración básica del archivo conf de ssh
sudo nano /etc/ssh/sshd_config
PermitRootLogin yes
PasswordAuthentication yes
PubkeyAuthentication yes

# reiniciar servicios
sudo systemctl start ssh
sudo systemctl enable ssh

# conectarme desde:
ssh usuario@ip_del_servidor


# =========================================
## CONFIGURACIÓN

# Cambiar idioma
sudo loadkeys es

# Cambiar teclado español
sudo nano /etc/default/keyboard
XKBLAYOUT="es"

# instalar paquete de ifconfig
sudo apt install net-tools

# Desinstalar interfaz gráfica con tasksel
sudo apt-get install tasksel
sudo tasksel

# Meter ip estática
sudo nano /etc/network/interfaces

    # Configuración de la interfaz Wi-Fi (wlan0)
    auto wlan0
    iface wlan0 inet static
        address 192.168.1.10     # Dirección IP estática
        netmask 255.255.255.0    # Máscara de subred
        gateway 192.168.1.1      # Puerta de enlace
        dns-nameservers 8.8.8.8 8.8.4.4  # Servidores DNS
        wpa-ssid "MiRedWifi"     # Nombre de la red Wi-Fi
        wpa-psk "tu_contraseña_wifi"  # Contraseña de la red Wi-Fi

    # Configuración de la interfaz Ethernet (eth0)
    auto eth0
    iface eth0 inet static
        address 192.168.1.10     # Dirección IP estática
        netmask 255.255.255.0    # Máscara de subred
        gateway 192.168.1.1      # Puerta de enlace
        dns-nameservers 8.8.8.8 8.8.4.4  # Servidores DNS

sudo systemctl restart networking





# Agregar Wifi
sudo nano /etc/netplan/50-cloud-init.yaml

    network:
    version: 2
    renderer: networkd
    wifis:
        wlan0:
        dhcp4: false  # Desactiva DHCP
        addresses:
            - 192.168.1.10/24  # Dirección IP estática y máscara de red 
        gateway4: 192.168.1.1  # Dirección IP de la puerta de enlace 
        access-points:
            "MiRedWifi": "nombre_red_wifi" 
            password: "tu_contraseña_wifi"
        nameservers:
            addresses: [8.8.8.8, 8.8.4.4]  


#Para aplicar los cambios de configuración y reiniciar el servicio
sudo netplan apply
sudo systemctl restart systemd-networkd

