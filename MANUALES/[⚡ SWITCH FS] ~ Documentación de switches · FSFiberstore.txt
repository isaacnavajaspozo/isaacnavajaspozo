=======[‚ö° Comandos switches ]====================================================================
================================================================================================

## Privilegios en un switch:
Los switches suelen operar bajo diferentes niveles de privilegios. Estos niveles determinan qu√© comandos puedes ejecutar:
  |
  +-- # Modo usuario (User EXEC): 
  |  Nivel b√°sico, permite visualizar informaci√≥n b√°sica pero no realizar configuraciones.
  |     üü© (Modo por defecto)
  |
  +-- # Modo privilegiado (Privileged EXEC): 
  |  Nivel intermedio, permite ejecutar comandos de diagn√≥stico y ver configuraciones detalladas.
  |     üü• enable
  |
  +-- # Modo de configuraci√≥n global (Global Configuration): 
  |  Nivel avanzado, permite configurar el switch.
  |     üü¶ config
  |
  +-- # Modo de configuraci√≥n espec√≠fica (Interface Configuration, Line Configuration, etc.): 
     Configura detalles espec√≠ficos como interfaces o l√≠neas de consola.
        üü™ interface [puerto]
        üü™ line [tipo] [n√∫mero]


## Lista detallada de comandos y sus usos:

| Comando                                | Nivel de privilegio          | Descripci√≥n                                                    |
|----------------------------------------|------------------------------|----------------------------------------------------------------|
| enable                                 |üü© Usuario -> Privilegiado    | Cambia al modo privilegiado.                                   |
| disable                                |üü• Privilegiado -> Usuario    | Vuelve al modo usuario.                                        |
| show interface brief                   |üü• Privilegiado               | Muestra el estado y configuraci√≥n de interfaces.               |
| show running-config                    |üü• Privilegiado               | Muestra la configuraci√≥n actual en ejecuci√≥n.                  |
| show startup-config                    |üü• Privilegiado               | Muestra la configuraci√≥n guardada en memoria NVRAM.            |
| show mac address-table                 |üü• Privilegiado               | Lista la tabla MAC completa del switch.                        |
| show version                           |üü• Privilegiado               | Muestra informaci√≥n del hardware y versi√≥n de software.        |
| config                                 |üü• Privilegiado               | Entra al modo configuraci√≥n global.                            |
| interface [puerto]                     |üü¶ Configuraci√≥n global       | Selecciona una interfaz espec√≠fica.                            |
| description [texto]                    |üü™ Configuraci√≥n de interfaz  | A√±ade una descripci√≥n al puerto.                               |
| switchport pvid                        |üü™ Configuraci√≥n de interfaz  | Configura el puerto en que VLAN va a tener acceso              |
| switchport mode access                 |üü™ Configuraci√≥n de interfaz  | Configura el puerto como modo de acceso.                       |
| switchport mode trunk                  |üü™ Configuraci√≥n de interfaz  | Configura el puerto como troncal.                              |
| vlan [ID]                              |üü¶ Configuraci√≥n global       | Crea o selecciona una VLAN.                                    |
| no vlan [ID]                           |üü¶ Configuraci√≥n global       | Elimina una VLAN espec√≠fica.                                   |
| show vlan brief                        |üü• Privilegiado               | Muestra un resumen de todas las VLANs configuradas.            |
| line console 0                         |üü¶ Configuraci√≥n global       | Configura la l√≠nea de consola.                                 |
| password [contrase√±a]                  |üü™ Configuraci√≥n de l√≠nea     | Configura una contrase√±a para el acceso por consola.           |
| enable password [contrase√±a]           |üü¶ Configuraci√≥n global       | Configura una contrase√±a para el modo privilegiado.            |
| enable secret [contrase√±a]             |üü¶ Configuraci√≥n global       | Configura una contrase√±a cifrada para el modo privilegiado.    |
| write                                  |üü• Privilegiado               | Guarda los cambios realizados en la configuraci√≥n.             |
| reload                                 |üü• Privilegiado               | Reinicia el switch.                                            |
| show logging                           |üü• Privilegiado               | Muestra el registro de eventos y errores del sistema.          |
| poe disable				                     |üü™ Configuraci√≥n de interfaz  | Desconectar el POE de la boca registrada.			 |
| no poe disable			                   |üü™ Configuraci√≥n de interfaz  | Conectar el POE de la boca registrada.			 |


## Comandos para archivos:

| Comando                                | Nivel de privilegio          | Descripci√≥n                                                    |
|----------------------------------------|------------------------------|----------------------------------------------------------------|
| dir /                                  |üü© Usuario -> Privilegiado    | Comprueba los archivos del switch                              |
| copy                                   |üü© Usuario -> Privilegiado    | Migra v√≠a TFTP los archivos indicados                          |
| delete /                               |üü© Usuario -> Privilegiado    | Elimina el archivo √≠ndicado del switch                         |
| boot system flash                      |üü• Privilegiado               | Configura un archivo para inicializar el firware por defecto   |


## Conociendo el Core:

| Archivos                               | Descripci√≥n                                                    |
|----------------------------------------|----------------------------------------------------------------|
| startup-config                         | Archivo encargado de guardar la configuraci√≥n                  |
| SYS_CORE_DUMP                          | Archivo encargado de los logs del switch                       |
| Switch.bin                             | Archivo encargado de inicializar el firmware                   |

| Entornos de red                        | Descripci√≥n                                                    |
|----------------------------------------|----------------------------------------------------------------|
| Bootstrap                              | Proceso encargado de inicializar el hardware                   |
| Watch Dog                              | Software que reinicia el dispositivo si ha dejado de responder |


## Atajos √∫tiles en el prompt del switch:

| Atajo                                  | Descripci√≥n                                                       | Ejemplo                                |
|----------------------------------------|-------------------------------------------------------------------|----------------------------------------|
| include                                | Filtrar texto                                                     | show mac address-table | include B3D1  |
| exclude                                | Excluir texto                                                     | show log | exclude LINK                |
| begin                                  | Mostrar l√≠neas previas                                            | show log | begin ERROR                 |
| ?                                      | Muestra opciones disponibles para un comando parcial.             | show ?                                 |
| Tabulaci√≥n                             | Completa autom√°ticamente el comando o subcomando.                 | Escribir "sho" y pulsar Tab.           |
| Ctrl+C                                 | Cancela un comando en ejecuci√≥n o vuelve al prompt inicial.       | Durante un comando largo.              |
| Ctrl+Z                                 | Salir al modo privilegiado desde cualquier submodo.               | Desde configuraci√≥n global.            |
| Ctrl+A                                 | Mueve el cursor al inicio de la l√≠nea actual.                     | En un comando largo.                   |
| Ctrl+E                                 | Mueve el cursor al final de la l√≠nea actual.                      | En un comando largo.                   |
| Ctrl+U                                 | Borra todo el texto desde el cursor hasta el inicio.              | Editando una l√≠nea de comando.         |
| Up Arrow / Down Arrow                  | Navega por el historial de comandos.                              | Repetir un comando anterior.           |
| !<n√∫mero>                              | Repite un comando espec√≠fico del historial.                       | !10 ejecuta el d√©cimo comando.         |
| show history                           | Muestra el historial completo de comandos.                        | show history.                          |



===================================================================================================================================
===================================================================================================================================
==============================================[‚ö° F I R M W A R E ]===============================================================
===================================================================================================================================

#############[ CONSOLA ]########################################
# Para entrar con la boca de consola del switch:
putty > Serial > COM1 > Speed:
# si el speed esta mal configurado se ver√°n car√°cteres raros
  COM: (puedo comprobarlo desde Administrador de dispositivos)
  SPEED: 115200

#############[ TFTP ]########################################
# descargo el programa tftpd64 
https://pjo2.github.io/tftpd64/
Current Directory: <Carpeta local pc>
Server Interface: <IP local pc>


# compruebo la memoria del switch y sus archivos 
# (Si no es suficiente el almacenamiento para migrar el archivo, borro SYS_CORE_DUMP y en el √∫ltimo de los casos Switch.bin que es el archivo que vamos a sustitur)
dir /

	# primero hago un backup del archivo que voy a eliminar
	copy flash: tftp:

	# borro el archivo SYS_CORE_DUMP que es el archivo de logs para liberar espacio
	delete /SYS_CORE_DUMP
	
	
# migro a trav√©s de TFTP de mi equipo el nuevo firmware del switch
# flash: siempre √≠ndica el switch f√≠sico y tftp en este caso el archivo de nuestro pc
copy tftp: flash:

# entro con privilegio de configuraci√≥n
config 

# configuro el nuevo archivo para que lo lea primero en el arranque 
boot system flash fw-2.2.0E-94091.bin

  # si es necesario eliminar un boot de arranque lo hago con:
  no boot system flash fw-2.2.0E-94091.bin

  # en el caso de que quiera eliminar el archivo Switch.bin puedo ponerle el mismo nombre y saltarme este paso (boot system...)
  # ya que el switch siempre va a buscar el archivo Switch.bin para inicializarse.

# compruebo los cambios 
quit
show running-config

# guardo para persistir la configuraci√≥n
write 

# reinicio para comprobar cambios
reboot
